–°–±–æ—Ä–∫–∞ –Ω–∞—á–∞—Ç–∞ –≤ 10:49...
1>------ –°–±–æ—Ä–∫–∞ –Ω–∞—á–∞—Ç–∞: –ø—Ä–æ–µ–∫—Ç: WindowsProject6, –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: Debug x64 ------
1>WindowsProject6.cpp
1>C:\Users\User\source\repos\WindowsProject6\WindowsProject6\WindowsProject6.cpp(90,67): warning C4267: –∞—Ä–≥—É–º–µ–Ω—Ç: –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∏–∑ "size_t" –≤ "UINT"; –≤–æ–∑–º–æ–∂–Ω–∞ –ø–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö
1>C:\Users\User\source\repos\WindowsProject6\WindowsProject6\WindowsProject6.cpp(613,30): error C2668: Gdiplus::Graphics::FillRectangle: –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã–π –≤—ã–∑–æ–≤ –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
1>    C:\Program Files (x86)\Windows Kits\10\Include\10.0.26100.0\um\GdiplusGraphics.h(997,12):
1>    –º–æ–∂–µ—Ç –±—ã—Ç—å "Gdiplus::Status Gdiplus::Graphics::FillRectangle(const Gdiplus::Brush *,INT,INT,INT,INT)"
1>    C:\Program Files (x86)\Windows Kits\10\Include\10.0.26100.0\um\GdiplusGraphics.h(967,12):
1>    –∏–ª–∏       "Gdiplus::Status Gdiplus::Graphics::FillRectangle(const Gdiplus::Brush *,Gdiplus::REAL,Gdiplus::REAL,Gdiplus::REAL,Gdiplus::REAL)"
1>    C:\Users\User\source\repos\WindowsProject6\WindowsProject6\WindowsProject6.cpp(613,30):
1>    –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —Å–æ–ø–æ—Å—Ç–∞–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ "(Gdiplus::SolidBrush *, LONG, LONG, LONG, LONG)"
1>C:\Users\User\source\repos\WindowsProject6\WindowsProject6\WindowsProject6.cpp(652,30): error C2668: Gdiplus::Graphics::FillRectangle: –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã–π –≤—ã–∑–æ–≤ –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
1>    C:\Program Files (x86)\Windows Kits\10\Include\10.0.26100.0\um\GdiplusGraphics.h(997,12):
1>    –º–æ–∂–µ—Ç –±—ã—Ç—å "Gdiplus::Status Gdiplus::Graphics::FillRectangle(const Gdiplus::Brush *,INT,INT,INT,INT)"
1>    C:\Program Files (x86)\Windows Kits\10\Include\10.0.26100.0\um\GdiplusGraphics.h(967,12):
1>    –∏–ª–∏       "Gdiplus::Status Gdiplus::Graphics::FillRectangle(const Gdiplus::Brush *,Gdiplus::REAL,Gdiplus::REAL,Gdiplus::REAL,Gdiplus::REAL)"
1>    C:\Users\User\source\repos\WindowsProject6\WindowsProject6\WindowsProject6.cpp(652,30):
1>    –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —Å–æ–ø–æ—Å—Ç–∞–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ "(Gdiplus::SolidBrush *, LONG, LONG, LONG, LONG)"
1>C:\Users\User\source\repos\WindowsProject6\WindowsProject6\WindowsProject6.cpp(744,31): warning C4244: –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ "LRESULT" –≤ "int", –≤–æ–∑–º–æ–∂–Ω–∞ –ø–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö
1>C:\Users\User\source\repos\WindowsProject6\WindowsProject6\WindowsProject6.cpp(855,13): warning C4551: –≤ –≤—ã–∑–æ–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Å–ø–∏—Å–æ–∫ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
1>–°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ "WindowsProject6.vcxproj" –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —Å –æ—à–∏–±–∫–æ–π.
========== –°–±–æ—Ä–∫–∞: —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ¬†‚Äî 0 , —Å–æ —Å–±–æ–µ–º¬†‚Äî 1, –≤ –∞–∫—Ç—É–∞–ª—å–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏¬†‚Äî 0, –ø—Ä–æ–ø—É—â–µ–Ω–æ¬†‚Äî 0 ==========
========== –°–±–æ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–æ –≤ 10:49 –∏ –∑–∞–Ω—è–ª–æ 00,911 —Å ==========
#include <windows.h>
#include <windowsx.h>
#include <commctrl.h>
#include <gdiplus.h>
#include <string>
#include <vector>
#include <thread>
#include <chrono>
#include <random>
#include <shellapi.h>
#include <shlobj.h>
#include <wininet.h>
#include <Shlwapi.h>
#pragma comment(lib, "gdiplus.lib")
#pragma comment(lib, "wininet.lib")
#pragma comment(lib, "comctl32.lib")

using namespace Gdiplus;

// –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã
const int WINDOW_WIDTH = 900;
const int WINDOW_HEIGHT = 600;
const int TITLE_BAR_HEIGHT = 40;
const int BUTTON_SIZE = 30;
const int BUTTON_MARGIN = 10;
const int SIDEBAR_WIDTH = 250;
const int CONTENT_PADDING = 20;
const int LAUNCH_BUTTON_WIDTH = 300;
const int LAUNCH_BUTTON_HEIGHT = 60;

// –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
HWND g_hWnd;
HWND g_hCloseButton;
HWND g_hMinimizeButton;
HWND g_hLaunchButton;
HWND g_hProgressBar;
HWND g_hStatusLabel;
HWND g_hNewsList;
HWND g_hVersionLabel;
bool g_isDragging = false;
POINT g_dragStartPoint;
int g_animationPhase = 0;
bool g_isGameRunning = false;

// –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –Ω–æ–≤–æ—Å—Ç–µ–π
struct NewsItem {
    std::wstring title;
    std::wstring content;
    std::wstring date;
};

std::vector<NewsItem> g_newsItems;

// –ü—Ä–æ—Ç–æ—Ç–∏–ø—ã —Ñ—É–Ω–∫—Ü–∏–π
LRESULT CALLBACK WndProc(HWND, UINT, WPARAM, LPARAM);
void InitializeGdiPlus();
void CreateControls(HWND hWnd);
void UpdateAnimation();
void LaunchGame();
void DrawRoundedRect(Graphics& graphics, const Rect& rect, int radius, const Brush& brush);
void DrawRoundedRectWithBorder(Graphics& graphics, const Rect& rect, int radius, const Brush& brush, const Pen& pen);
void DrawSidebar(Graphics& graphics, const Rect& rect);
void DrawGlowEffect(Graphics& graphics, const Rect& rect);
void DrawAnimatedElements(Graphics& graphics, const Rect& rect);

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑ URL
Bitmap* LoadImageFromUrl(const wchar_t* url) {
    HINTERNET hInternet = InternetOpen(L"Launcher", INTERNET_OPEN_TYPE_DIRECT, NULL, NULL, 0);
    if (!hInternet) return nullptr;

    HINTERNET hUrl = InternetOpenUrl(hInternet, url, NULL, 0, INTERNET_FLAG_RELOAD, 0);
    if (!hUrl) {
        InternetCloseHandle(hInternet);
        return nullptr;
    }

    std::vector<BYTE> buffer;
    BYTE tempBuffer[4096];
    DWORD bytesRead = 0;

    while (InternetReadFile(hUrl, tempBuffer, sizeof(tempBuffer), &bytesRead) && bytesRead > 0) {
        buffer.insert(buffer.end(), tempBuffer, tempBuffer + bytesRead);
    }

    InternetCloseHandle(hUrl);
    InternetCloseHandle(hInternet);

    if (buffer.empty()) return nullptr;

    IStream* stream = SHCreateMemStream(buffer.data(), buffer.size());
    if (!stream) return nullptr;

    Bitmap* bitmap = Bitmap::FromStream(stream);
    stream->Release();

    return bitmap;
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è —Å–∫—Ä—É–≥–ª–µ–Ω–Ω–æ–≥–æ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∞
void DrawRoundedRect(Graphics& graphics, const Rect& rect, int radius, const Brush& brush) {
    GraphicsPath path;

    // –õ–µ–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª
    path.AddArc(rect.X, rect.Y, radius * 2, radius * 2, 180, 90);
    // –ü—Ä–∞–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª
    path.AddArc(rect.X + rect.Width - radius * 2, rect.Y, radius * 2, radius * 2, 270, 90);
    // –ü—Ä–∞–≤—ã–π –Ω–∏–∂–Ω–∏–π —É–≥–æ–ª
    path.AddArc(rect.X + rect.Width - radius * 2, rect.Y + rect.Height - radius * 2, radius * 2, radius * 2, 0, 90);
    // –õ–µ–≤—ã–π –Ω–∏–∂–Ω–∏–π —É–≥–æ–ª
    path.AddArc(rect.X, rect.Y + rect.Height - radius * 2, radius * 2, radius * 2, 90, 90);

    path.CloseFigure();
    graphics.FillPath(&brush, &path);
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è —Å–∫—Ä—É–≥–ª–µ–Ω–Ω–æ–≥–æ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∞ —Å –≥—Ä–∞–Ω–∏—Ü–µ–π
void DrawRoundedRectWithBorder(Graphics& graphics, const Rect& rect, int radius, const Brush& brush, const Pen& pen) {
    GraphicsPath path;

    // –õ–µ–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª
    path.AddArc(rect.X, rect.Y, radius * 2, radius * 2, 180, 90);
    // –ü—Ä–∞–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª
    path.AddArc(rect.X + rect.Width - radius * 2, rect.Y, radius * 2, radius * 2, 270, 90);
    // –ü—Ä–∞–≤—ã–π –Ω–∏–∂–Ω–∏–π —É–≥–æ–ª
    path.AddArc(rect.X + rect.Width - radius * 2, rect.Y + rect.Height - radius * 2, radius * 2, radius * 2, 0, 90);
    // –õ–µ–≤—ã–π –Ω–∏–∂–Ω–∏–π —É–≥–æ–ª
    path.AddArc(rect.X, rect.Y + rect.Height - radius * 2, radius * 2, radius * 2, 90, 90);

    path.CloseFigure();
    graphics.FillPath(&brush, &path);
    graphics.DrawPath(&pen, &path);
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏
void DrawSidebar(Graphics& graphics, const Rect& rect) {
    // –§–æ–Ω –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏
    LinearGradientBrush sidebarBrush(
        Point(rect.X, rect.Y),
        Point(rect.X + rect.Width, rect.Y + rect.Height),
        Color(255, 44, 62, 80),
        Color(255, 52, 73, 94)
    );
    graphics.FillRectangle(&sidebarBrush, rect.X, rect.Y, rect.Width, rect.Height);

    // –ó–∞–≥–æ–ª–æ–≤–æ–∫ –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏
    FontFamily fontFamily(L"Segoe UI");
    Font titleFont(&fontFamily, 18, FontStyleBold, UnitPixel);
    SolidBrush titleBrush(Color(255, 236, 240, 241));

    StringFormat stringFormat;
    stringFormat.SetAlignment(StringAlignmentCenter);

    graphics.DrawString(
        L"üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê",
        -1,
        &titleFont,
        RectF((REAL)rect.X, (REAL)rect.Y + 20, (REAL)rect.Width, 30),
        &stringFormat,
        &titleBrush
    );

    // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    Font statFont(&fontFamily, 14, FontStyleRegular, UnitPixel);
    SolidBrush statBrush(Color(255, 189, 195, 199));

    std::vector<std::wstring> stats = {
        L"üë• –û–Ω–ª–∞–π–Ω: 1,247",
        L"üèÜ –†–∞–Ω–≥: Gold III",
        L"üìà –£—Ä–æ–≤–µ–Ω—å: 42",
        L"üéÆ –ß–∞—Å–æ–≤: 156",
        L"‚ö° –ü–∏–Ω–≥: 24ms",
        L"üåê –°–µ—Ä–≤–µ—Ä: EU West"
    };

    for (size_t i = 0; i < stats.size(); i++) {
        graphics.DrawString(
            stats[i].c_str(),
            -1,
            &statFont,
            RectF((REAL)rect.X + 20, (REAL)rect.Y + 70 + (i * 35), (REAL)rect.Width - 40, 25),
            &stringFormat,
            &statBrush
        );
    }
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∞ —Å–≤–µ—á–µ–Ω–∏—è
void DrawGlowEffect(Graphics& graphics, const Rect& rect) {
    // –≠—Ñ—Ñ–µ–∫—Ç —Å–≤–µ—á–µ–Ω–∏—è –≤–æ–∫—Ä—É–≥ –∫–Ω–æ–ø–∫–∏ –∑–∞–ø—É—Å–∫–∞
    int glowSize = 20;
    int glowAlpha = 50 + (int)(sin(g_animationPhase * 0.1) * 30);

    for (int i = 0; i < 3; i++) {
        int currentGlowSize = glowSize + i * 10;
        Color glowColor(glowAlpha - i * 15, 52, 152, 219);
        Pen glowPen(glowColor, 2.0f);

        Rect glowRect(
            rect.Width / 2 - LAUNCH_BUTTON_WIDTH / 2 - currentGlowSize / 2,
            rect.Height - 120 - currentGlowSize / 2,
            LAUNCH_BUTTON_WIDTH + currentGlowSize,
            LAUNCH_BUTTON_HEIGHT + currentGlowSize
        );

        DrawRoundedRectWithBorder(graphics, glowRect, 20, SolidBrush(Color(0, 0, 0, 0)), glowPen);
    }
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
void DrawAnimatedElements(Graphics& graphics, const Rect& rect) {
    // –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —á–∞—Å—Ç–∏—Ü—ã
    std::random_device rd;
    std::mt19937 gen(rd());
    std::uniform_int_distribution<> distX(0, rect.Width);
    std::uniform_int_distribution<> distY(0, rect.Height);
    std::uniform_int_distribution<> distSize(1, 3);
    std::uniform_int_distribution<> distAlpha(50, 150);

    for (int i = 0; i < 50; i++) {
        int x = distX(gen);
        int y = (distY(gen) + g_animationPhase * 2) % rect.Height;
        int size = distSize(gen);
        int alpha = distAlpha(gen);

        Color particleColor(alpha, 52, 152, 219);
        SolidBrush particleBrush(particleColor);

        graphics.FillEllipse(&particleBrush, x, y, size, size);
    }
}

// –§—É–Ω–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞ –∏–≥—Ä—ã
void LaunchGame() {
    // –ò–º–∏—Ç–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –∑–∞–ø—É—Å–∫–∞
    for (int i = 0; i <= 100; i += 10) {
        SendMessage(g_hProgressBar, PBM_SETPOS, i, 0);

        std::wstring status;
        switch (i) {
        case 0: status = L"üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π..."; break;
        case 20: status = L"üì• –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤..."; break;
        case 40: status = L"üîß –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏..."; break;
        case 60: status = L"‚öôÔ∏è –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è..."; break;
        case 80: status = L"üöÄ –ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã..."; break;
        case 100: status = L"‚úÖ –ì–æ—Ç–æ–≤–æ!"; break;
        }

        SetWindowText(g_hStatusLabel, status.c_str());
        Sleep(300);
    }

    // –ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã (–∏–º–∏—Ç–∞—Ü–∏—è)
    ShellExecute(NULL, L"open", L"majestika.exe", NULL, NULL, SW_SHOWNORMAL);

    g_isGameRunning = true;
    EnableWindow(g_hLaunchButton, TRUE);
    SetWindowText(g_hStatusLabel, L"üéÆ –ò–≥—Ä–∞ –∑–∞–ø—É—â–µ–Ω–∞!");
}

// –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏
void UpdateAnimation() {
    g_animationPhase++;
    InvalidateRect(g_hWnd, NULL, FALSE);
}

// –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
int WINAPI WinMain(HINSTANCE hInstance, HINSTANCE hPrevInstance, LPSTR lpCmdLine, int nCmdShow) {
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è GDI+
    InitializeGdiPlus();

    // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–ª–∞—Å—Å–∞ –æ–∫–Ω–∞
    WNDCLASSEX wcex;
    wcex.cbSize = sizeof(WNDCLASSEX);
    wcex.style = CS_HREDRAW | CS_VREDRAW;
    wcex.lpfnWndProc = WndProc;
    wcex.cbClsExtra = 0;
    wcex.cbWndExtra = 0;
    wcex.hInstance = hInstance;
    wcex.hIcon = LoadIcon(NULL, IDI_APPLICATION);
    wcex.hCursor = LoadCursor(NULL, IDC_ARROW);
    wcex.hbrBackground = NULL;
    wcex.lpszMenuName = NULL;
    wcex.lpszClassName = L"MajestikaLauncher";
    wcex.hIconSm = LoadIcon(NULL, IDI_APPLICATION);

    RegisterClassEx(&wcex);

    // –°–æ–∑–¥–∞–Ω–∏–µ –æ–∫–Ω–∞
    g_hWnd = CreateWindowEx(
        WS_EX_LAYERED | WS_EX_TOPMOST,
        L"MajestikaLauncher",
        L"Majestika RP Launcher",
        WS_POPUP | WS_VISIBLE,
        (GetSystemMetrics(SM_CXSCREEN) - WINDOW_WIDTH) / 2,
        (GetSystemMetrics(SM_CYSCREEN) - WINDOW_HEIGHT) / 2,
        WINDOW_WIDTH,
        WINDOW_HEIGHT,
        NULL,
        NULL,
        hInstance,
        NULL
    );

    // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏
    SetLayeredWindowAttributes(g_hWnd, 0, 255, LWA_ALPHA);

    // –ü–æ–∫–∞–∑ –æ–∫–Ω–∞
    ShowWindow(g_hWnd, nCmdShow);
    UpdateWindow(g_hWnd);

    // –ó–∞–ø—É—Å–∫ —Ç–∞–π–º–µ—Ä–∞ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏
    SetTimer(g_hWnd, 1, 50, NULL);

    // –¶–∏–∫–ª —Å–æ–æ–±—â–µ–Ω–∏–π
    MSG msg;
    while (GetMessage(&msg, NULL, 0, 0)) {
        TranslateMessage(&msg);
        DispatchMessage(&msg);
    }

    return (int)msg.wParam;
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è GDI+
void InitializeGdiPlus() {
    GdiplusStartupInput gdiplusStartupInput;
    ULONG_PTR gdiplusToken;
    GdiplusStartup(&gdiplusToken, &gdiplusStartupInput, NULL);
}

// –°–æ–∑–¥–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
void CreateControls(HWND hWnd) {
    // –ö–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è
    g_hCloseButton = CreateWindow(
        L"BUTTON",
        L"‚úï",
        WS_CHILD | WS_VISIBLE | BS_OWNERDRAW,
        WINDOW_WIDTH - BUTTON_SIZE - BUTTON_MARGIN,
        BUTTON_MARGIN,
        BUTTON_SIZE,
        BUTTON_SIZE,
        hWnd,
        (HMENU)1001,
        NULL,
        NULL
    );

    // –ö–Ω–æ–ø–∫–∞ —Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è
    g_hMinimizeButton = CreateWindow(
        L"BUTTON",
        L"‚Äì",
        WS_CHILD | WS_VISIBLE | BS_OWNERDRAW,
        WINDOW_WIDTH - (BUTTON_SIZE * 2) - (BUTTON_MARGIN * 2),
        BUTTON_MARGIN,
        BUTTON_SIZE,
        BUTTON_SIZE,
        hWnd,
        (HMENU)1002,
        NULL,
        NULL
    );

    // –ö–Ω–æ–ø–∫–∞ –∑–∞–ø—É—Å–∫–∞ –∏–≥—Ä—ã
    g_hLaunchButton = CreateWindow(
        L"BUTTON",
        L"üöÄ –ó–ê–ü–£–°–¢–ò–¢–¨ MAJESTIKA RP",
        WS_CHILD | WS_VISIBLE | BS_OWNERDRAW,
        (WINDOW_WIDTH - LAUNCH_BUTTON_WIDTH) / 2,
        WINDOW_HEIGHT - 120,
        LAUNCH_BUTTON_WIDTH,
        LAUNCH_BUTTON_HEIGHT,
        hWnd,
        (HMENU)1003,
        NULL,
        NULL
    );

    // –ü—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä
    g_hProgressBar = CreateWindowEx(
        0,
        PROGRESS_CLASS,
        NULL,
        WS_CHILD | WS_VISIBLE | PBS_SMOOTH,
        (WINDOW_WIDTH - 350) / 2,
        WINDOW_HEIGHT - 180,
        350,
        12,
        hWnd,
        NULL,
        NULL,
        NULL
    );

    SendMessage(g_hProgressBar, PBM_SETRANGE, 0, MAKELPARAM(0, 100));
    SendMessage(g_hProgressBar, PBM_SETBARCOLOR, 0, RGB(52, 152, 219));
    SendMessage(g_hProgressBar, PBM_SETBKCOLOR, 0, RGB(44, 62, 80));

    // –ú–µ—Ç–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
    g_hStatusLabel = CreateWindow(
        L"STATIC",
        L"–ì–æ—Ç–æ–≤ –∫ –∑–∞–ø—É—Å–∫—É...",
        WS_CHILD | WS_VISIBLE | SS_CENTER,
        (WINDOW_WIDTH - 400) / 2,
        WINDOW_HEIGHT - 50,
        400,
        25,
        hWnd,
        NULL,
        NULL,
        NULL
    );

    // –°–ø–∏—Å–æ–∫ –Ω–æ–≤–æ—Å—Ç–µ–π
    g_hNewsList = CreateWindow(
        L"LISTBOX",
        NULL,
        WS_CHILD | WS_VISIBLE | WS_BORDER | LBS_NOTIFY | LBS_HASSTRINGS | WS_VSCROLL,
        SIDEBAR_WIDTH + CONTENT_PADDING,
        TITLE_BAR_HEIGHT + 50,
        WINDOW_WIDTH - SIDEBAR_WIDTH - (CONTENT_PADDING * 2),
        300,
        hWnd,
        (HMENU)1006,
        NULL,
        NULL
    );

    // –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –Ω–æ–≤–æ—Å—Ç–∏
    g_newsItems = {
        {L"üéâ –ù–æ–≤—ã–π —Å–µ–∑–æ–Ω!", L"–û—Ç–∫—Ä—ã—Ç –Ω–æ–≤—ã–π –∏–≥—Ä–æ–≤–æ–π —Å–µ–∑–æ–Ω —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ –Ω–∞–≥—Ä–∞–¥–∞–º–∏.", L"01.01.2024"},
        {L"‚öîÔ∏è –ë–∞–ª–∞–Ω—Å –∫–ª–∞—Å—Å–æ–≤", L"–û–±–Ω–æ–≤–ª–µ–Ω –±–∞–ª–∞–Ω—Å –≤–æ–∏–Ω–æ–≤ –∏ –º–∞–≥–æ–≤.", L"25.12.2023"},
        {L"üè∞ –ù–æ–≤—ã–π –ø–æ–¥–∑–µ–º–µ–ª—å–µ", L"–î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥–∑–µ–º–µ–ª—å–µ '–õ–æ–≥–æ–≤–æ –î—Ä–∞–∫–æ–Ω–∞'.", L"15.12.2023"},
        {L"üéÅ –ó–∏–º–Ω–∏–µ –∏–≤–µ–Ω—Ç—ã", L"–ù–æ–≤–æ–≥–æ–¥–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è –∏ –ø–æ–¥–∞—Ä–∫–∏.", L"01.12.2023"}
    };

    for (const auto& news : g_newsItems) {
        SendMessage(g_hNewsList, LB_ADDSTRING, 0, (LPARAM)news.title.c_str());
    }

    // –ú–µ—Ç–∫–∞ –≤–µ—Ä—Å–∏–∏
    g_hVersionLabel = CreateWindow(
        L"STATIC",
        L"Majestika RP Launcher v1.4.2 | Build 2024.01",
        WS_CHILD | WS_VISIBLE | SS_LEFT,
        CONTENT_PADDING,
        WINDOW_HEIGHT - 40,
        300,
        20,
        hWnd,
        NULL,
        NULL,
        NULL
    );
}

// –û–∫–æ–Ω–Ω–∞—è –ø—Ä–æ—Ü–µ–¥—É—Ä–∞
LRESULT CALLBACK WndProc(HWND hWnd, UINT message, WPARAM wParam, LPARAM lParam) {
    switch (message) {
    case WM_CREATE:
    {
        CreateControls(hWnd);

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ–Ω–æ–≤–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
        std::thread([]() {
            Bitmap* background = LoadImageFromUrl(L"https://picsum.photos/900/600");
            if (background) {
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ WM_PAINT
                // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –Ω—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —É–∫–∞–∑–∞—Ç–µ–ª—å
                delete background;
            }
            }).detach();
    }
    break;

    case WM_TIMER:
        if (wParam == 1) {
            UpdateAnimation();
        }
        break;

    case WM_PAINT:
    {
        PAINTSTRUCT ps;
        HDC hdc = BeginPaint(hWnd, &ps);

        // –°–æ–∑–¥–∞–µ–º –±—É—Ñ–µ—Ä –¥–ª—è –¥–≤–æ–π–Ω–æ–π –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏–∏
        HDC hdcMem = CreateCompatibleDC(hdc);
        RECT clientRect;
        GetClientRect(hWnd, &clientRect);

        HBITMAP hBitmap = CreateCompatibleBitmap(hdc, clientRect.right, clientRect.bottom);
        HBITMAP hOldBitmap = (HBITMAP)SelectObject(hdcMem, hBitmap);

        // –°–æ–∑–¥–∞–µ–º Graphics –¥–ª—è GDI+
        Graphics graphics(hdcMem);
        graphics.SetSmoothingMode(SmoothingModeAntiAlias);
        graphics.SetTextRenderingHint(TextRenderingHintAntiAlias);

        // –§–æ–Ω –æ–∫–Ω–∞
        LinearGradientBrush backgroundBrush(
            Point(0, 0),
            Point(clientRect.right, clientRect.bottom),
            Color(255, 26, 37, 48),
            Color(255, 34, 49, 63)
        );
        graphics.FillRectangle(&backgroundBrush, 0, 0, clientRect.right, clientRect.bottom);

        // –ó–∞–≥–æ–ª–æ–≤–æ–∫ –æ–∫–Ω–∞
        LinearGradientBrush titleBarBrush(
            Point(0, 0),
            Point(clientRect.right, TITLE_BAR_HEIGHT),
            Color(255, 41, 128, 185),
            Color(255, 52, 152, 219)
        );
        graphics.FillRectangle(&titleBarBrush, 0, 0, clientRect.right, TITLE_BAR_HEIGHT);

        // –¢–µ–∫—Å—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∞
        FontFamily fontFamily(L"Segoe UI");
        Font titleFont(&fontFamily, 20, FontStyleBold, UnitPixel);
        SolidBrush titleBrush(Color(255, 255, 255));

        StringFormat stringFormat;
        stringFormat.SetAlignment(StringAlignmentCenter);

        graphics.DrawString(
            L"üéÆ MAJESTIKA RP LAUNCHER",
            -1,
            &titleFont,
            RectF(0, 10, (REAL)clientRect.right, 30),
            &stringFormat,
            &titleBrush
        );

        // –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å
        Rect sidebarRect(0, TITLE_BAR_HEIGHT, SIDEBAR_WIDTH, clientRect.bottom - TITLE_BAR_HEIGHT);
        DrawSidebar(graphics, sidebarRect);

        // –ó–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–æ–≤–æ—Å—Ç–µ–π
        Font newsTitleFont(&fontFamily, 18, FontStyleBold, UnitPixel);
        graphics.DrawString(
            L"üì∞ –ü–û–°–õ–ï–î–ù–ò–ï –ù–û–í–û–°–¢–ò",
            -1,
            &newsTitleFont,
            RectF((REAL)(SIDEBAR_WIDTH + CONTENT_PADDING), (REAL)(TITLE_BAR_HEIGHT + 20), 300, 30),
            NULL,
            &titleBrush
        );

        // –≠—Ñ—Ñ–µ–∫—Ç —Å–≤–µ—á–µ–Ω–∏—è
        DrawGlowEffect(graphics, Rect(0, 0, clientRect.right, clientRect.bottom));

        // –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
        DrawAnimatedElements(graphics, Rect(0, 0, clientRect.right, clientRect.bottom));

        // –ö–æ–ø–∏—Ä—É–µ–º –±—É—Ñ–µ—Ä –Ω–∞ —ç–∫—Ä–∞–Ω
        BitBlt(hdc, 0, 0, clientRect.right, clientRect.bottom, hdcMem, 0, 0, SRCCOPY);

        // –û—á–∏—Å—Ç–∫–∞
        SelectObject(hdcMem, hOldBitmap);
        DeleteObject(hBitmap);
        DeleteDC(hdcMem);

        EndPaint(hWnd, &ps);
    }
    break;

    case WM_DRAWITEM:
    {
        LPDRAWITEMSTRUCT lpDrawItem = (LPDRAWITEMSTRUCT)lParam;

        if (lpDrawItem->CtlID == 1001 || lpDrawItem->CtlID == 1002 || lpDrawItem->CtlID == 1003) {
            Graphics graphics(lpDrawItem->hDC);
            graphics.SetSmoothingMode(SmoothingModeAntiAlias);

            RECT rc = lpDrawItem->rcItem;

            if (lpDrawItem->CtlID == 1001) { // –ö–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è
                // –ö—Ä–∞—Å–Ω—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç
                LinearGradientBrush closeBrush(
                    Point(rc.left, rc.top),
                    Point(rc.right, rc.bottom),
                    Color(255, 231, 76, 60),
                    Color(255, 192, 57, 43)
                );

                DrawRoundedRect(graphics,
                    Rect(rc.left, rc.top, rc.right - rc.left, rc.bottom - rc.top),
                    15,
                    closeBrush
                );

                // –ë–µ–ª—ã–π –∫—Ä–µ—Å—Ç–∏–∫
                FontFamily fontFamily(L"Segoe UI");
                Font font(&fontFamily, 16, FontStyleBold, UnitPixel);
                SolidBrush textBrush(Color(255, 255, 255));

                StringFormat stringFormat;
                stringFormat.SetAlignment(StringAlignmentCenter);
                stringFormat.SetLineAlignment(StringAlignmentCenter);

                graphics.DrawString(
                    L"‚úï",
                    -1,
                    &font,
                    RectF((REAL)rc.left, (REAL)rc.top, (REAL)(rc.right - rc.left), (REAL)(rc.bottom - rc.top)),
                    &stringFormat,
                    &textBrush
                );

                // –≠—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
                if (lpDrawItem->itemState & ODS_HOTLIGHT) {
                    SolidBrush hoverBrush(Color(30, 255, 255, 255));
                    graphics.FillRectangle(&hoverBrush, rc.left, rc.top, rc.right - rc.left, rc.bottom - rc.top);
                }
            }
            else if (lpDrawItem->CtlID == 1002) { // –ö–Ω–æ–ø–∫–∞ —Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è
                // –°–µ—Ä—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç
                LinearGradientBrush minimizeBrush(
                    Point(rc.left, rc.top),
                    Point(rc.right, rc.bottom),
                    Color(255, 149, 165, 166),
                    Color(255, 127, 140, 141)
                );

                DrawRoundedRect(graphics,
                    Rect(rc.left, rc.top, rc.right - rc.left, rc.bottom - rc.top),
                    15,
                    minimizeBrush
                );

                // –ë–µ–ª—ã–π –º–∏–Ω—É—Å
                FontFamily fontFamily(L"Segoe UI");
                Font font(&fontFamily, 20, FontStyleBold, UnitPixel);
                SolidBrush textBrush(Color(255, 255, 255));

                StringFormat stringFormat;
                stringFormat.SetAlignment(StringAlignmentCenter);
                stringFormat.SetLineAlignment(StringAlignmentCenter);

                graphics.DrawString(
                    L"‚Äì",
                    -1,
                    &font,
                    RectF((REAL)rc.left, (REAL)rc.top, (REAL)(rc.right - rc.left), (REAL)(rc.bottom - rc.top)),
                    &stringFormat,
                    &textBrush
                );

                // –≠—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
                if (lpDrawItem->itemState & ODS_HOTLIGHT) {
                    SolidBrush hoverBrush(Color(30, 255, 255, 255));
                    graphics.FillRectangle(&hoverBrush, rc.left, rc.top, rc.right - rc.left, rc.bottom - rc.top);
                }
            }
            else if (lpDrawItem->CtlID == 1003) { // –ö–Ω–æ–ø–∫–∞ –∑–∞–ø—É—Å–∫–∞
                // –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç
                int gradientOffset = (g_animationPhase % 100) * 2;
                LinearGradientBrush launchBrush(
                    Point(rc.left - gradientOffset, rc.top),
                    Point(rc.right + gradientOffset, rc.bottom),
                    Color(255, 41, 128, 185),
                    Color(255, 52, 152, 219)
                );

                // –°–∫—Ä—É–≥–ª–µ–Ω–Ω–∞—è –∫–Ω–æ–ø–∫–∞ —Å —Ç–µ–Ω—å—é
                DrawRoundedRectWithBorder(graphics,
                    Rect(rc.left, rc.top, rc.right - rc.left, rc.bottom - rc.top),
                    15,
                    launchBrush,
                    Pen(Color(255, 255, 255), 2)
                );

                // –¢–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏
                FontFamily fontFamily(L"Segoe UI");
                Font font(&fontFamily, 20, FontStyleBold, UnitPixel);
                SolidBrush textBrush(Color(255, 255, 255));

                StringFormat stringFormat;
                stringFormat.SetAlignment(StringAlignmentCenter);
                stringFormat.SetLineAlignment(StringAlignmentCenter);

                graphics.DrawString(
                    L"üöÄ –ó–ê–ü–£–°–¢–ò–¢–¨ MAJESTIKA RP",
                    -1,
                    &font,
                    RectF((REAL)rc.left, (REAL)rc.top, (REAL)(rc.right - rc.left), (REAL)(rc.bottom - rc.top)),
                    &stringFormat,
                    &textBrush
                );

                // –≠—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
                if (lpDrawItem->itemState & ODS_HOTLIGHT) {
                    SolidBrush hoverBrush(Color(30, 255, 255, 255));
                    graphics.FillRectangle(&hoverBrush,
                        (REAL)rc.left, (REAL)rc.top,
                        (REAL)(rc.right - rc.left), (REAL)(rc.bottom - rc.top));
                }

                // –≠—Ñ—Ñ–µ–∫—Ç –Ω–∞–∂–∞—Ç–∏—è
                if (lpDrawItem->itemState & ODS_SELECTED) {
                    SolidBrush pressedBrush(Color(50, 0, 0, 0));
                    graphics.FillRectangle(&pressedBrush,
                        (REAL)rc.left, (REAL)rc.top,
                        (REAL)(rc.right - rc.left), (REAL)(rc.bottom - rc.top));
                }
            }
        }
    }
    return TRUE;

    case WM_COMMAND:
    {
        int wmId = LOWORD(wParam);

        switch (wmId) {
        case 1001: // –ó–∞–∫—Ä—ã—Ç—å
        {
            // –ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–∫—Ä—ã—Ç–∏—è
            for (int i = 255; i >= 0; i -= 10) {
                SetLayeredWindowAttributes(hWnd, 0, i, LWA_ALPHA);
                Sleep(10);
            }
            PostMessage(hWnd, WM_CLOSE, 0, 0);
        }
        break;

        case 1002: // –°–≤–µ—Ä–Ω—É—Ç—å
            ShowWindow(hWnd, SW_MINIMIZE);
            break;

        case 1003: // –ó–∞–ø—É—Å—Ç–∏—Ç—å –∏–≥—Ä—É
        {
            // –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ –≤–æ –≤—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞
            EnableWindow(g_hLaunchButton, FALSE);

            // –ó–∞–ø—É—Å–∫ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ
            std::thread launchThread(LaunchGame);
            launchThread.detach();
        }
        break;

        case 1006: // –í—ã–±–æ—Ä –Ω–æ–≤–æ—Å—Ç–∏
        {
            int selectedIndex = SendMessage(g_hNewsList, LB_GETCURSEL, 0, 0);
            if (selectedIndex != LB_ERR && selectedIndex < (int)g_newsItems.size()) {
                const auto& news = g_newsItems[selectedIndex];
                std::wstring message = news.title + L"\n\n" + news.content + L"\n\n–î–∞—Ç–∞: " + news.date;
                MessageBox(hWnd, message.c_str(), L"üì∞ –ù–æ–≤–æ—Å—Ç—å", MB_OK | MB_ICONINFORMATION);
            }
        }
        break;
        }
    }
    break;

    case WM_LBUTTONDOWN:
    {
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–∞–∂–∞–ª–∏ –ª–∏ –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –¥–ª—è –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è
        int xPos = GET_X_LPARAM(lParam);
        int yPos = GET_Y_LPARAM(lParam);

        if (yPos < TITLE_BAR_HEIGHT) {
            g_isDragging = true;
            g_dragStartPoint.x = xPos;
            g_dragStartPoint.y = yPos;
            SetCapture(hWnd);
        }
    }
    break;

    case WM_MOUSEMOVE:
    {
        if (g_isDragging) {
            int xPos = GET_X_LPARAM(lParam);
            int yPos = GET_Y_LPARAM(lParam);

            RECT windowRect;
            GetWindowRect(hWnd, &windowRect);

            int newX = windowRect.left + (xPos - g_dragStartPoint.x);
            int newY = windowRect.top + (yPos - g_dragStartPoint.y);

            SetWindowPos(hWnd, NULL, newX, newY, 0, 0, SWP_NOSIZE | SWP_NOZORDER);
        }
    }
    break;

    case WM_LBUTTONUP:
    {
        if (g_isDragging) {
            g_isDragging = false;
            ReleaseCapture();
        }
    }
    break;

    case WM_NCHITTEST:
    {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞ –ø–æ –∫—Ä–∞—è–º
        POINT pt = { GET_X_LPARAM(lParam), GET_Y_LPARAM(lParam) };
        ScreenToClient(hWnd, &pt);

        RECT clientRect;
        GetClientRect(hWnd, &clientRect);

        // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –æ–±–ª–∞—Å—Ç–∏ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞
        const int borderSize = 8;

        if (pt.y < borderSize) {
            if (pt.x < borderSize) return HTTOPLEFT;
            if (pt.x > clientRect.right - borderSize) return HTTOPRIGHT;
            return HTTOP;
        }
        else if (pt.y > clientRect.bottom - borderSize) {
            if (pt.x < borderSize) return HTBOTTOMLEFT;
            if (pt.x > clientRect.right - borderSize) return HTBOTTOMRIGHT;
            return HTBOTTOM;
        }
        else if (pt.x < borderSize) {
            return HTLEFT;
        }
        else if (pt.x > clientRect.right - borderSize) {
            return HTRIGHT;
        }
        else if (pt.y < TITLE_BAR_HEIGHT) {
            return HTCAPTION;
        }

        return HTCLIENT;
    }
    break;

    case WM_SIZE:
    {
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞
        int newWidth = LOWORD(lParam);
        int newHeight = HIWORD(lParam);

        // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–∑–∏—Ü–∏–∏ –∫–Ω–æ–ø–æ–∫
        if (g_hCloseButton) {
            SetWindowPos(g_hCloseButton, NULL,
                newWidth - BUTTON_SIZE - BUTTON_MARGIN,
                BUTTON_MARGIN,
                BUTTON_SIZE, BUTTON_SIZE, SWP_NOZORDER);
        }

        if (g_hMinimizeButton) {
            SetWindowPos(g_hMinimizeButton, NULL,
                newWidth - (BUTTON_SIZE * 2) - (BUTTON_MARGIN * 2),
                BUTTON_MARGIN,
                BUTTON_SIZE, BUTTON_SIZE, SWP_NOZORDER);
        }

        if (g_hLaunchButton) {
            SetWindowPos; g_hLaunchButton, NULL,
                (newWidth - LAUNCH_BUTTON_WIDTH) / 2,
                newHeight - 120,
                LAUNCH_BUTTON_WIDTH, LAUNCH_BUTTON_HEIGHT, SWP_NOZORDER;
        }

        if (g_hProgressBar) {
            SetWindowPos(g_hProgressBar, NULL,
                (newWidth - 350) / 2,
                newHeight - 180,
                350, 12, SWP_NOZORDER);
        }

        if (g_hStatusLabel) {
            SetWindowPos(g_hStatusLabel, NULL,
                (newWidth - 400) / 2,
                newHeight - 50,
                400, 25, SWP_NOZORDER);
        }

        if (g_hNewsList) {
            SetWindowPos(g_hNewsList, NULL,
                SIDEBAR_WIDTH + CONTENT_PADDING,
                TITLE_BAR_HEIGHT + 50,
                newWidth - SIDEBAR_WIDTH - (CONTENT_PADDING * 2),
                300, SWP_NOZORDER);
        }

        if (g_hVersionLabel) {
            SetWindowPos(g_hVersionLabel, NULL,
                CONTENT_PADDING,
                newHeight - 40,
                300, 20, SWP_NOZORDER);
        }

        InvalidateRect(hWnd, NULL, TRUE);
    }
    break;

    case WM_CTLCOLORSTATIC:
    {
        HDC hdcStatic = (HDC)wParam;
        HWND hwndStatic = (HWND)lParam;

        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ü–≤–µ—Ç–∞ –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
        if (hwndStatic == g_hStatusLabel) {
            SetTextColor(hdcStatic, RGB(236, 240, 241));
            SetBkColor(hdcStatic, RGB(26, 37, 48));
            return (LRESULT)GetStockObject(NULL_BRUSH);
        }
        else if (hwndStatic == g_hVersionLabel) {
            SetTextColor(hdcStatic, RGB(149, 165, 166));
            SetBkColor(hdcStatic, RGB(26, 37, 48));
            return (LRESULT)GetStockObject(NULL_BRUSH);
        }
    }
    break;

    case WM_CTLCOLORLISTBOX:
    {
        HDC hdcListBox = (HDC)wParam;

        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ü–≤–µ—Ç–∞ –¥–ª—è —Å–ø–∏—Å–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π
        SetTextColor(hdcListBox, RGB(236, 240, 241));
        SetBkColor(hdcListBox, RGB(44, 62, 80));

        static HBRUSH hBrush = CreateSolidBrush(RGB(44, 62, 80));
        return (LRESULT)hBrush;
    }
    break;

    case WM_ERASEBKGND:
        // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –æ—á–∏—Å—Ç–∫—É —Ñ–æ–Ω–∞
        return TRUE;

    case WM_CLOSE:
    {
        // –ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–∫—Ä—ã—Ç–∏—è
        for (int i = 255; i >= 0; i -= 10) {
            SetLayeredWindowAttributes(hWnd, 0, i, LWA_ALPHA);
            Sleep(10);
        }
        DestroyWindow(hWnd);
    }
    break;

    case WM_DESTROY:
        PostQuitMessage(0);
        break;

    default:
        return DefWindowProc(hWnd, message, wParam, lParam);
    }

    return 0;
}
